<!doctype html>
<html>
<head>
    <title>Acnovate - Apache Kafka</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>

<header class="fixed">
    <nav class="navbar navbar-expand-lg topbar shadow mb-1 static-top d-flex bg-light"
         style="font-family: 'Times New Roman', Times, serif; padding: 5px;">

        <a href="/" class="mr-auto logo" style="padding-left: 20px;">
            <h2 style="margin-bottom: -10px;">
                <u>
                    <img src="/cloud.png" alt="cloud" width="40" height="50" style="padding-bottom: 8px;"/>
                    Acnovate
                </u>
            </h2>
        </a>
    </nav>
</header>


<div class="container p-1 border shadow mb-1">
    <h2 class="text-center text-success"><u>Audit Manger - Consumer</u></h2>

    <br/>
    <hr color="red"/>
    <div class="row">
        <div class="col-6">
            <div class="table-responsive container">
                <table class="table table-bordered table-hover">
                    <thead>
                    <tr class="table-info">
                        <th>Parts</th>
                    </tr>
                    </thead>
                    <tbody id="Parts_Reports">
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-6">
            <div class="table-responsive container">
                <table class="table table-bordered table-hover">
                    <thead>
                    <tr class="table-success">
                        <th>Documents</th>
                    </tr>
                    </thead>
                    <tbody id="Document_Reports">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <br/>
    <hr color="red"/>
    <div class="row">
        <div class="col-6">
            <div class="table-responsive container">
                <table class="table table-bordered table-hover">
                    <thead>
                    <tr class="table-danger">
                        <th>ChangeRequest</th>
                    </tr>
                    </thead>
                    <tbody id="ChangeRequest_Reports">
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-6">
            <div class="table-responsive container">
                <table class="table table-bordered table-hover">
                    <thead>
                    <tr class="table-warning">
                        <th>ChangeNotice</th>
                    </tr>
                    </thead>
                    <tbody id="ChangeNotice_Reports">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <br/>
    <hr color="red"/>

</div>
<br/>
<br/>

<script>

    setInterval(PhysicsMessages, 5000);
    setInterval(ChemistryMessages, 5000);
    setInterval(BiologyMessages, 5000);
    setInterval(MathematicsMessages, 5000);

    function PhysicsMessages() {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", '/message?subject=Physics', false);
        xmlHttp.send(null);
        document.getElementById("PhysicsMessages").innerHTML = getData(xmlHttp);
    }

    function ChemistryMessages() {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", '/message?subject=Chemistry', false);
        xmlHttp.send(null);
        document.getElementById("ChemistryMessages").innerHTML = getData(xmlHttp);
    }

    function BiologyMessages() {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", '/message?subject=Biology', false);
        xmlHttp.send(null);
        document.getElementById("BiologyMessages").innerHTML = getData(xmlHttp);
    }

    function MathematicsMessages() {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", '/message?subject=Mathematics', false);
        xmlHttp.send(null);
        document.getElementById("MathematicsMessages").innerHTML = getData(xmlHttp);
    }


    function getData(xmlHttp) {
        if (xmlHttp.status === 200) {
            var json = JSON.parse(xmlHttp.responseText);
            var tr = "";
            for (var i = 0; i < json.length; i++) {
                tr += "<tr><td>" + json[i] + "</td></tr>";
            }
            return tr;
        }
    }


</script>


</body>


</html>

